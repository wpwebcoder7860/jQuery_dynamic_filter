var d=class{constructor(){this.fields=[],this.overrides={}}is_required(i){for(let e in i)this.overrides[e]=this.overrides[e]||{},i[e].required===!1&&(this.overrides[e].skip=!0)}addPattern(i){for(let e in i)this.overrides[e]=this.overrides[e]||{},this.overrides[e].pattern=i[e].pattern,this.overrides[e].patternMessage=i[e].message}addMinLength(i){for(let e in i)this.overrides[e]=this.overrides[e]||{},this.overrides[e].minLength=i[e].minLength}addMaxLength(i){for(let e in i)this.overrides[e]=this.overrides[e]||{},this.overrides[e].maxLength=i[e].maxLength}addMessage(i){for(let e in i){let r=i[e];r.messages&&(this.overrides[e]=this.overrides[e]||{},this.overrides[e].messages=this.overrides[e].messages||{},Object.assign(this.overrides[e].messages,r.messages))}}init(i,e){this.fields=Object.keys(e);let r={},n={};return $.each(this.fields,(a,s)=>{r[s]={},n[s]={};let t=this.overrides[s]||{};if(t.skip?r[s].required=!1:(r[s].required=!0,n[s].required="This field is required."),t.pattern){let o=s+"_pattern";$.validator.addMethod(o,function(h,g){return this.optional(g)||t.pattern.test(h)},t.patternMessage||"Invalid format"),r[s][o]=!0,n[s][o]=t.patternMessage||"Invalid format"}if(t.minLength&&(r[s].minlength=t.minLength,n[s].minlength=t.messages&&t.messages.minlength||`Please enter at least ${t.minLength} characters.`),t.maxLength&&(r[s].maxlength=t.maxLength,n[s].maxlength=t.messages&&t.messages.maxlength||`Please enter no more than ${t.maxLength} characters.`),t.messages)for(let o in t.messages)n[s][o]=t.messages[o]}),$(i).validate({rules:r,messages:n,errorElement:"div",errorClass:"invalid-feedback small fw-normal fs-6",highlight:function(a){$(a).addClass("is-invalid")},unhighlight:function(a){$(a).removeClass("is-invalid")},errorPlacement:function(a,s){a.addClass("invalid-feedback-error"),s.parent(".input-group").length||s.is(":checkbox")||s.is(":radio")?a.insertAfter(s.parent()):a.insertAfter(s)}})}destroy(i){let e=$(i);e.length&&(e.data("validator")&&(e.validate().destroy(),e.removeData("validator"),e.removeData("unobtrusiveValidation")),e[0].reset(),e.find("label.error").remove(),e.find(".is-invalid").removeClass("is-invalid"))}};export{d as formFilter};
